# PiskaBobra
<h1>Корявых Дмитрий Евгеньевич, вариант 14, этап 2, ИКБО-24-24</h1><br>
<p>Второй этап собственной REPL системы с поддержкой команд: cd, ls, exit, run</p> 
<p>А так же реализована система чтения скриптов, приняте абсолютного путя к VFS и стартовому скрипту.</p>
<h2>Подробности работы:</h2>
<br>
    Команды cd и ls не несут логической нагрузки и выводят себя и аргументы, использованные при их выводе, попутно считая их.
    exit производит выход из консоли, прекращая действие комманды
    При вводе неизвестной команды, система скажет об этом пользователю и пригласит попытаться ещё раз понять, что он тупой и вообще зря во всё это дело полез, не справился с вводом 3-ёх команд.
    Так же была введена команда help, которая выводит строчку текста.
    Создана отдельная система работы с файлами, которая в глобальном плане повторяет точесную работу с коммандами.
    Она поддерживает комментарии, выводя их в конце отработки команды
<h2>Как выглядит начало работы:</h2>
Пользователю необходимо перед запуском указать после названия исполняемого exe файла абсолютные пути к VFS и стартовому скрипту, если будет допущена ошибка/недописаны аргументы, то программа выдаст ошибку и принудительно закроется.
<p>Если пользователь справится с указанием путей, то скрипт отработает и программа пригласит пользователя к вводу.</p>
<p>Пользователь сможет делать всё что угодно, однако при резком желании вызвать новый скрипт, ему потребуется вызвать комманду run с абсолютным или относительным путём к файлу.</p>
<p>
    Обработка скрипта в целом реализована так же, как и обычное взаимодействие с программой, но имеет дополнительную логику для обработки комментария, отделяя его от комманды и аргументов в строке и отдельно выписывая впоследствии. Так же, как можно догадаться, проверяется, порлучилось ли открыть файл.
</p>
<h2>Внутреннее устройство</h2>
<p style="font-size:20px">Для восприятия команд реализован простейший парсер, который разделяет строку ввода по пробелам, отправляя каждое новое слово в строковый вектор, первый элемент которого отправляется через функцию getCommandCode() в вектор-костыль.<br>Функция возвращает значение из enum-множества, которое в дальнейшем используется для определения поведения внутри switch</p>
<p style="text-align: center"><img src="https://kareliazoo.ru/storage/2023/09/2lama.webp" alt="Лама" style="height: 200px; width: 1000px" alt="лама."></p>